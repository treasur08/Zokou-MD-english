const a10_0x429576=a10_0x49c6;(function(_0x5d8756,_0xf4e467){const _0x394eb5=a10_0x49c6,_0x3ff429=_0x5d8756();while(!![]){try{const _0x2768d4=-parseInt(_0x394eb5(0xe5))/0x1*(-parseInt(_0x394eb5(0xdb))/0x2)+-parseInt(_0x394eb5(0xec))/0x3+-parseInt(_0x394eb5(0xe6))/0x4+-parseInt(_0x394eb5(0xd8))/0x5+-parseInt(_0x394eb5(0xdc))/0x6*(parseInt(_0x394eb5(0xe8))/0x7)+-parseInt(_0x394eb5(0xd3))/0x8*(parseInt(_0x394eb5(0xd5))/0x9)+parseInt(_0x394eb5(0xe2))/0xa;if(_0x2768d4===_0xf4e467)break;else _0x3ff429['push'](_0x3ff429['shift']());}catch(_0x111dc8){_0x3ff429['push'](_0x3ff429['shift']());}}}(a10_0x1981,0xdbe12));const a10_0x3ffa2a=(function(){const _0x12f0d7=a10_0x49c6,_0x1c92da={'oRtKZ':function(_0x4f7ca5,_0x7f0498){return _0x4f7ca5===_0x7f0498;},'fuJFd':_0x12f0d7(0xee)};let _0x30dfe0=!![];return function(_0x3e227a,_0x15d4bd){const _0x3f7d21=_0x30dfe0?function(){const _0x121b19=a10_0x49c6;if(_0x1c92da['oRtKZ'](_0x1c92da[_0x121b19(0xd7)],_0x121b19(0xee))){if(_0x15d4bd){const _0xd9ec09=_0x15d4bd['apply'](_0x3e227a,arguments);return _0x15d4bd=null,_0xd9ec09;}}else{if(!_0x40b4f9)return;try{_0x14edc6[_0x121b19(0xed)]('\x0a\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20users_rank\x20(jid,\x20xp,\x20messages)\x0a\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?,\x20?)\x0a\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(jid)\x20DO\x20UPDATE\x20SET\x0a\x20\x20\x20\x20\x20\x20\x20\x20xp\x20=\x20xp\x20+\x20excluded.xp,\x0a\x20\x20\x20\x20\x20\x20\x20\x20messages\x20=\x20messages\x20+\x20excluded.messages;\x0a\x20\x20\x20\x20')[_0x121b19(0xeb)](_0x38489d,_0x1f2ccf,_0x54c539);}catch(_0x5cd7bb){throw _0x5cd7bb;}}}:function(){};return _0x30dfe0=![],_0x3f7d21;};}()),a10_0x1d2151=a10_0x3ffa2a(this,function(){const _0x243c9b=a10_0x49c6,_0x3a4ecf={'gMbzu':_0x243c9b(0xe9)};return a10_0x1d2151['toString']()[_0x243c9b(0xd6)]('(((.+)+)+)+$')[_0x243c9b(0xdf)]()[_0x243c9b(0xd2)](a10_0x1d2151)['search'](_0x3a4ecf['gMbzu']);});a10_0x1d2151();function a10_0x49c6(_0x32d93c,_0x8eecff){const _0x539593=a10_0x1981();return a10_0x49c6=function(_0x1d2151,_0x3ffa2a){_0x1d2151=_0x1d2151-0xd0;let _0x1981b7=_0x539593[_0x1d2151];if(a10_0x49c6['HhdiFU']===undefined){var _0x49c64f=function(_0x4413cf){const _0x248a6a='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4f28df='',_0xa53975='',_0x41d8dc=_0x4f28df+_0x49c64f;for(let _0x25f817=0x0,_0x5d7945,_0x1a9310,_0x1ea073=0x0;_0x1a9310=_0x4413cf['charAt'](_0x1ea073++);~_0x1a9310&&(_0x5d7945=_0x25f817%0x4?_0x5d7945*0x40+_0x1a9310:_0x1a9310,_0x25f817++%0x4)?_0x4f28df+=_0x41d8dc['charCodeAt'](_0x1ea073+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x5d7945>>(-0x2*_0x25f817&0x6)):_0x25f817:0x0){_0x1a9310=_0x248a6a['indexOf'](_0x1a9310);}for(let _0x6c8a28=0x0,_0x1cdef7=_0x4f28df['length'];_0x6c8a28<_0x1cdef7;_0x6c8a28++){_0xa53975+='%'+('00'+_0x4f28df['charCodeAt'](_0x6c8a28)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0xa53975);};a10_0x49c6['wbvMiN']=_0x49c64f,_0x32d93c=arguments,a10_0x49c6['HhdiFU']=!![];}const _0x2858ed=_0x539593[0x0],_0x5e848e=_0x1d2151+_0x2858ed,_0x15060f=_0x32d93c[_0x5e848e];if(!_0x15060f){const _0x416d16=function(_0x4db3d9){this['JlgOgt']=_0x4db3d9,this['tSbLtE']=[0x1,0x0,0x0],this['zODyAV']=function(){return'newState';},this['hojsEJ']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['pBLKdL']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x416d16['prototype']['yEKsJv']=function(){const _0x2992ce=new RegExp(this['hojsEJ']+this['pBLKdL']),_0x5700fd=_0x2992ce['test'](this['zODyAV']['toString']())?--this['tSbLtE'][0x1]:--this['tSbLtE'][0x0];return this['IifNJU'](_0x5700fd);},_0x416d16['prototype']['IifNJU']=function(_0x2e3d3e){if(!Boolean(~_0x2e3d3e))return _0x2e3d3e;return this['NWsLvq'](this['JlgOgt']);},_0x416d16['prototype']['NWsLvq']=function(_0x12bbbd){for(let _0x520323=0x0,_0x55f74c=this['tSbLtE']['length'];_0x520323<_0x55f74c;_0x520323++){this['tSbLtE']['push'](Math['round'](Math['random']())),_0x55f74c=this['tSbLtE']['length'];}return _0x12bbbd(this['tSbLtE'][0x0]);},new _0x416d16(a10_0x49c6)['yEKsJv'](),_0x1981b7=a10_0x49c6['wbvMiN'](_0x1981b7),_0x32d93c[_0x5e848e]=_0x1981b7;}else _0x1981b7=_0x15060f;return _0x1981b7;},a10_0x49c6(_0x32d93c,_0x8eecff);}const openConnection=require(a10_0x429576(0xde)),db=openConnection(),createUsersRankTable=()=>{const _0x24d028=a10_0x429576,_0x1a43b1={'URFmu':_0x24d028(0xe7)};try{db['prepare']('\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20users_rank\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20id\x20INTEGER\x20PRIMARY\x20KEY\x20AUTOINCREMENT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20jid\x20TEXT\x20UNIQUE,\x0a\x20\x20\x20\x20\x20\x20\x20\x20xp\x20INTEGER\x20DEFAULT\x200,\x0a\x20\x20\x20\x20\x20\x20\x20\x20messages\x20INTEGER\x20DEFAULT\x200\x0a\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20')['run']();}catch(_0x3c140d){console['error'](_0x1a43b1[_0x24d028(0xd0)],_0x3c140d[_0x24d028(0xef)]);throw _0x3c140d;}};function a10_0x1981(){const _0x52d77d=['odK2zLjMrxbT','kcGOlISPkYKRksSK','zwPnEvO','CNvU','ndC0nZC3oxbJzefSzW','ChjLCgfYzq','z2nmq0q','BwvZC2fNzq','vvjgBxu','yuDiA3u','y29UC3rYDwn0B3i','mZm4ntq5nKHPChrAqq','ywXS','mtH2Cuf5D24','C2vHCMnO','zNvkrMq','oduZmteWmer3v1zKwa','DungueG','zxjYB3i','mNzWswLbyq','nJi5mdrQs3vltLq','tur6C0m','lI9FAw5KzxG','Dg9tDhjPBMC','cIaGicaGifnftevdvcbTzxnZywDLCYWGEhaGrLjptsb1C2vYC19Yyw5RifDirvjfigPPzca9id87cIaGica','cIaGicaGifnftevdvcbQAwqSihHWlcbTzxnZywDLCWOGicaGicbguK9nihvZzxjZx3jHBMSkicaGicaGt1jerviGqLKGEhaGrevtqWOGicaGicbmsu1jvcaXmdSkicaGia','ntKXntG0otbvAKzutxa','rxjYzxvYigXVCNmGzguGBgeGCSoPy3vWW6LYyxrPB24GzhuGDg9WideWoG','AgDiC0y','mtq0ntq0ng9UwuTZta','mZKZndeXmLzOywXRuq','rxjYzxvYigXVCNmGzguGBgeGy3ldQwf0Aw9UigrLigXHihrHyMXLicD1C2vYC19Yyw5RjZO'];a10_0x1981=function(){return _0x52d77d;};return a10_0x1981();}createUsersRankTable();const ajouterOuMettreAJourUserData=(_0xacb28c,_0x2473a0=0xa,_0x365a0c=0x1)=>{const _0x33d4a4=a10_0x429576,_0x576522={'bzDhq':'CgDSR','MDzsC':_0x33d4a4(0xe4)};if(!_0xacb28c)return;try{_0x576522['bzDhq']!==_0x576522[_0x33d4a4(0xdd)]?db['prepare']('\x0a\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20users_rank\x20(jid,\x20xp,\x20messages)\x0a\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?,\x20?)\x0a\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(jid)\x20DO\x20UPDATE\x20SET\x0a\x20\x20\x20\x20\x20\x20\x20\x20xp\x20=\x20xp\x20+\x20excluded.xp,\x0a\x20\x20\x20\x20\x20\x20\x20\x20messages\x20=\x20messages\x20+\x20excluded.messages;\x0a\x20\x20\x20\x20')['run'](_0xacb28c,_0x2473a0,_0x365a0c):_0x4f3bc6['prepare']('\x0a\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20users_rank\x20(jid,\x20xp,\x20messages)\x0a\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?,\x20?)\x0a\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(jid)\x20DO\x20UPDATE\x20SET\x0a\x20\x20\x20\x20\x20\x20\x20\x20xp\x20=\x20xp\x20+\x20excluded.xp,\x0a\x20\x20\x20\x20\x20\x20\x20\x20messages\x20=\x20messages\x20+\x20excluded.messages;\x0a\x20\x20\x20\x20')[_0x33d4a4(0xeb)](_0x21463e,_0x394cbc,_0x1a0cc9);}catch(_0x370297){throw _0x370297;}},getMessagesAndXPByJID=_0x6c07e2=>{const _0x352bd9=a10_0x429576,_0xe77547={'JOkQj':function(_0x41ceca,_0x38b3fa){return _0x41ceca||_0x38b3fa;},'uCFPH':function(_0x217a7c,_0x5a169c){return _0x217a7c||_0x5a169c;}};if(!_0x6c07e2)return{'messages':0x0,'xp':0x0};try{if(_0x352bd9(0xea)!==_0x352bd9(0xd1)){const _0x5bbafd=db[_0x352bd9(0xed)](_0x352bd9(0xe0))['get'](_0x6c07e2);return _0xe77547[_0x352bd9(0xd9)](_0x5bbafd,{'messages':0x0,'xp':0x0});}else{const _0x2b0ea8=_0x12810e[_0x352bd9(0xed)](_0x352bd9(0xe0))['get'](_0x2d2927);return _0xe77547['JOkQj'](_0x2b0ea8,{'messages':0x0,'xp':0x0});}}catch(_0x2e355c){console['error']('Erreur\x20lors\x20de\x20la\x20récupération\x20des\x20données\x20utilisateur:',_0x2e355c['message']);throw _0x2e355c;}},getBottom10Users=()=>{const _0x51ace0=a10_0x429576,_0x182c0d={'leRuq':_0x51ace0(0xe3)};try{const _0x444b42=db['prepare'](_0x51ace0(0xe1))[_0x51ace0(0xd4)]();return _0x444b42;}catch(_0x2a5459){console[_0x51ace0(0xda)](_0x182c0d['leRuq'],_0x2a5459[_0x51ace0(0xef)]);throw _0x2a5459;}};module['exports']={'ajouterOuMettreAJourUserData':ajouterOuMettreAJourUserData,'getMessagesAndXPByJID':getMessagesAndXPByJID,'getBottom10Users':getBottom10Users};